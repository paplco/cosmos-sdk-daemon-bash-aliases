# .bash_aliases for CÃ¸smos SDK.
# https://github.com/paplco/cosmos-sdk-daemon-bash-aliases
# Useful commands to add? Open PR. Thanks

# Nice command prompt formatting.
export PS1="\[\033[36m\]\u\[\033[m\]@\[\033[32m\]\h:\[\033[33;1m\]\w\[\033[m\]\$ "
export CLICOLOR=1
export LSCOLORS=ExFxBxDxCxegedabagacad

# Load daemon environment variables.
if [ -f ~/.sdkvars ]; then
  . ~/.sdkvars
fi

# General useful shortcuts.
alias home='cd ~/ '
alias ..b='. ~/.bashrc '
alias n='nano '
alias nba='n ~/.sdk_aliases/.aliases '
alias cba='cat ~/.sdk_aliases/.aliases '
alias pgen='openssl rand -base64 32 '
alias la='ls -la '
alias rmf='rm -Rf '

# Git.
alias gcp='git commit -a; gpu;'
alias gca='git commit -a '
alias gpl='git pull '
alias gpu='git push '
alias gcm='git commit '
alias gba='git branch -a '
alias gco='git checkout '
alias gsw='git switch '
alias gst='git rev-parse HEAD; git status; '
alias gaa='git add -A '
alias grso='git remote show origin '
alias grro='git remote remove origin '
alias grou='git config --get remote.origin.url'
alias gig='n .gitignore '
alias gresetmain='git fetch origin; git reset --hard origin/main'
alias gpusubs='git pull --recurse-submodules && git submodule update'
alias glog='git log --graph --decorate --pretty=oneline --abbrev-commit'

# Cosmovisor.
export DAEMON_RESTART_AFTER_UPGRADE=true
export DAEMON_ALLOW_DOWNLOAD_BINARIES=false
export UNSAFE_SKIP_BACKUP=true
export PATH=$PATH:~/.${DAEMON_NAME}/cosmovisor/current/bin/:~/go/bin;
alias cvstart="sudo systemctl start cosmovisor"
alias cvstatus="sudo systemctl status cosmovisor"
alias cvrestart="sudo systemctl restart cosmovisor"
alias cvstop="sudo systemctl stop cosmovisor"
alias cvlog="journalctl -u cosmovisor.service -n 10 -f"
alias cvenable="sudo systemctl enable cosmovisor.service"

# SDK shortcuts.
alias sdk="${DAEMON_NAME} "
alias sdkvars="n ~/.sdkvars "
alias cdsdk="cd ${DAEMON_HOME}; la "
alias cnf="cdsdk; cd config; la "
alias cnfe="cnf; n config.toml "
alias bal="sdk q bank balances ${ACC_ADDR} "
alias acc="sdk q account ${ACC_ADDR} "
alias txbr="home; sdk tx broadcast tx.json "
alias txn="home; rm tx.json; n tx.json "
alias txwd="home; acc; sdk tx distribution withdraw-rewards ${VAL_ADDR}  \
  --from=${ACC_ADDR} \
  --chain-id=${CHAIN_ID} \
  --commission \
  --fees=${FEES}${DENOM} \
  --generate-only "
alias tdm="sdk tendermint "
alias tdmaddr="tdm show-address "
alias tdmid="tdm show-node-id "
alias tdmval="tdm show-validator "

function setsdkvars {
    if [ ! -f ~/.sdkvars ]; then
        cp ~/.sdk_aliases/.sdkvars_template ~/.sdkvars
        nano ~/.sdkvars
    fi
}

# Disk management.
alias dmnt="df -h | grep 'mnt' "
alias dbyid="ls /dev/disk/by-id/"
alias dresize="resize2fs /dev/disk/by-id/$(ls /dev/disk/by-id/)"
dmnt; #We use blockchain disks mounted as drives, important for us to see this stat upon login automatically.

echo "=== ${DAEMON_NAME} sdk aliases loaded ==="
